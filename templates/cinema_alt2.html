<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tunnel‚ö°Sats Cinema Mode</title>

  <!-- Link to the new CSS file -->
  <link rel="stylesheet" href="cinema.css">
</head>
<body>

  <!-- Go Back Button (Top-Left) -->
  <div class="back-button-container" title="Go Back">
    <button class="back-button" onclick="goBack()">
      <!-- Simple SVG Arrow -->
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path 
          fill="currentColor"
          d="M14.7 18.7c.4-.4.4-1 0-1.4L9.4 12l5.3-5.3
             c.4-.4.4-1 0-1.4s-1-.4-1.4 0l-6 6c-.4.4-.4 1 
             0 1.4l6 6c.4.3 1 .3 1.4 0z"
        />
      </svg>
    </button>
  </div>

  <div class="cinema-container">
    <!-- Left Section -->
    <div class="cinema-left">
      <!-- Explanatory Textbox -->
      <div class="explanatory-textbox">
          <p>
              Welcome to Tunnel‚ö°Sats! Watch real-time updates of patrons supporting the mission. Enjoy the show!
          </p>
      </div>

      <!-- Live Ticker Headline -->
      <h2 class="live-ticker-headline">Live‚ö°Ô∏èTicker</h2>

      <!-- QR Code and Lightning Address -->
      <div class="cinema-qr-container">
        <img id="cinema-qr" alt="QR Code"/>
        
        <!-- Copy-to-clipboard field for the Lightning address -->
        <div
          class="copy-field"
          onclick="copyText(this)"
          title="Click to copy the Lightning Address"
          data-address="lightning@tunnelsats.com"
          id="lightning-address-container"
        >
          ‚ö°Ô∏è <span class="address" id="lightning-address">lightning@tunnelsats.com</span>
        </div>
      </div>
      
      <!-- Total Sats -->
      <div class="explanatory-textbox total-amount">
          <p id="cinema-total">0 Sats</p>
      </div>

      <!-- Heroic Patrons -->
      <div class="heroic-patrons">
          <h2>Heroic Patrons</h2>
          <ul id="heroic-patrons-list">
              <!-- Top 3 patrons will be dynamically inserted here -->
          </ul>
      </div>
    </div>

    <!-- Right Section -->
    <div class="cinema-right">
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th style="width: 20%;">Time</th>
              <th style="width: 40%;">Memo</th>
              <th style="width: 20%;">Amount</th>
              <th style="width: 20%;">Likes</th>
            </tr>
          </thead>
          <tbody id="cinema-transactions">
            <!-- Recent donations inserted here -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Sound Control -->
  <div class="sound-control">
      <button id="sound-toggle" title="Mute/Unmute"><span id="sound-icon">üîä</span></button>
  </div>

  <!-- Placeholder JS with goBack() + copyText() -->
  <script>
    function goBack() {
      if (window.history.length > 1) {
        window.history.back();
      } else {
        window.location.href = '/'; // or any fallback
      }
    }

    function copyText(el) {
      const addr = el.dataset.address || '';
      if (!addr) return;
      navigator.clipboard.writeText(addr)
        .then(() => alert(`Copied: ${addr}`))
        .catch(err => console.error('Failed to copy', err));
    }
  </script>
</body>
</html>
